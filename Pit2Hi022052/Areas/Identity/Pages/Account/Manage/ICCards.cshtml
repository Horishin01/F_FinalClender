@page
@model Pit2Hi022052.Areas.Identity.Pages.Account.Manage.ICCardsModel
@using Pit2Hi022052.Areas.Identity.Pages.Account.Manage
@{
    ViewData["Title"] = "ICカード";
    ViewData["ActivePage"] = ManageNavPages.ICCards;
}

<h3>ICカード</h3>

<div class="mb-3">
    <!-- ここからのみ登録/上書き可能（手入力不可） -->
    <form method="post" asp-page-handler="Read" class="d-inline">
        <button type="submit" class="btn btn-primary">カードを読み取って登録/上書き</button>
    </form>
    @if (!string.IsNullOrEmpty(Model.StatusMessage))
    {
        <span class="text-muted ms-2">@Model.StatusMessage</span>
    }
</div>

@if (!(Model.Card is null))
{
    <table class="table align-middle">
        <thead>
            <tr>
                <th>UID</th>
                <th class="text-end">操作</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-danger">@Model.Card.Uid</td>
                <td class="text-end">
                    <!-- 削除のみ（UIDの手入力・送信欄は存在しない） -->
                    <form method="post" asp-page-handler="Delete" class="d-inline">
                        <button type="submit" class="btn btn-danger">削除</button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
}
else
{
    <p class="text-muted">登録されたICカードはありません。</p>
}
